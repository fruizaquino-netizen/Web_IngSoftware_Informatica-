<!-- ================= TESTIMONIOS TICKER ================= -->
<div class="news-ticker-container testimonios-ticker">
  <div class="ticker-label">
    {{ content().ASPIRANTES.TICKER_LABEL }}
  </div>
  <div class="ticker-wrap">
    <div class="ticker-move">
      <div
        class="ticker-item"
        *ngFor="let testimonio of testimonios"
        (click)="openTestimonio(testimonio)"
      >
        <span class="frase">“{{ testimonio.frase }}”</span>
        <strong class="autor">{{ testimonio.nombre }}</strong>
      </div>
      <!-- duplicado -->
      <div
        class="ticker-item"
        *ngFor="let testimonio of testimonios"
        (click)="openTestimonio(testimonio)"
      >
        <span class="frase">“{{ testimonio.frase }}”</span>
        <strong class="autor">{{ testimonio.nombre }}</strong>
      </div>
    </div>
  </div>
</div>

<section class="aspirantes">
  <!-- HEADER -->
  <header class="header">
    <h1>{{ content().ASPIRANTES.TITLE }}</h1>
    <p>
      {{ content().ASPIRANTES.INTRO }}
    </p>
  </header>
  <!-- PROCESO -->
  <section class="proceso-box">
    <h2>{{ content().ASPIRANTES.PROCESS_TITLE }}</h2>
    <div class="pasos">
      <ng-container *ngFor="let step of content().ASPIRANTES.STEPS; let i = index; let last = last">
        <div class="paso-card">
          <div class="icono-circulo">{{ i === 0 ? '📝' : i === 1 ? '✍️' : '🎓' }}</div>
          <span class="paso-num">{{ step.NUMBER }}</span>
          <h3>{{ step.TITLE }}</h3>
          <p>{{ step.TEXT }}</p>
        </div>
        <div class="linea" *ngIf="!last"></div>
      </ng-container>
    </div>
    <a
      class="btn-principal"
      href="https://www.unistmo.edu.mx/web/p_ensenanza/escolares.html"
      target="_blank"
      rel="noopener noreferrer"
    >
      {{ content().ASPIRANTES.REGISTER_BUTTON }}
    </a>
  </section>
  <!-- INFO -->
  <section class="info">
    <div class="info-card">
      <h3>{{ content().ASPIRANTES.REQUIREMENTS_TITLE }}</h3>
      <ul>
        <li *ngFor="let req of content().ASPIRANTES.REQUIREMENTS">{{ req }}</li>
      </ul>
    </div>
    <div class="info-card">
      <h3>{{ content().ASPIRANTES.DATES_TITLE }}</h3>
      <div class="fecha" *ngFor="let fecha of content().ASPIRANTES.DATES">
        <strong>{{ fecha.LABEL }}</strong>
        <span>{{ fecha.VALUE }}</span>
      </div>
    </div>
  </section>
  <!-- CTA -->
  <section class="cta">
    <h2>{{ content().ASPIRANTES.CTA_TITLE }}</h2>
    <p>
      {{ content().ASPIRANTES.CTA_TEXT }}
    </p>
    <div class="cta-botones">
      <a href="https://www.unistmo.edu.mx/web/p_ensenanza/ingreso/FORMATO_SOLICITUD_FICHA_LICENCIATURA.pdf" class="btn-cta">
        {{ content().ASPIRANTES.CTA_CONTACT }}
      </a>
      <a href="https://www.unistmo.edu.mx/web/p_ensenanza/ingreso/FORMATO_SOLICITUD_FICHA_LICENCIATURA.pdf" class="btn-cta" target="_blank">
        {{ content().ASPIRANTES.CTA_GUIDE }}
      </a>
    </div>
  </section>
</section>

<!-- ================= MODAL TESTIMONIO ================= -->
<div
  class="modal"
  *ngIf="testimonioActivo"
  (click)="closeTestimonio()"
>

  <div
    class="modal-dialog"
    (click)="$event.stopPropagation()"
  >
    <div class="modal-content rounded-4 p-4">
      <div class="modal-header border-0">
        <h5 class="modal-title">{{ content().ASPIRANTES.MODAL_TITLE }}</h5>
        <button class="btn-close" (click)="closeTestimonio()"></button>
      </div>
      <div class="modal-body">
        <p class="fst-italic fs-5">
          “{{ testimonioActivo.frase }}”
        </p>
        <hr>
        <h6 class="fw-bold mb-0">
          {{ testimonioActivo.nombre }}
        </h6>
        <small class="text-muted">
          {{ testimonioActivo.generacion }}
        </small>
      </div>
    </div>
  </div>
</div>
