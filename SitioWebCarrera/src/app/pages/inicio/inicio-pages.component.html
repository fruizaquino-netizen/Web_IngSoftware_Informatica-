<div class="page-wrapper">
  <div class="news-ticker-container">
    <div class="ticker-label">NOTICIAS</div>
    <div class="ticker-wrap">
      <div class="ticker-move">
        <div class="ticker-item" *ngFor="let noticia of noticias" (click)="openNews(noticia)">
          {{ noticia.titulo }} <span class="separator">‚Ä¢</span>
        </div>
        <div class="ticker-item" *ngFor="let noticia of noticias" (click)="openNews(noticia)">
          {{ noticia.titulo }} <span class="separator">‚Ä¢</span>
        </div>
      </div>
    </div>
    <button class="ticker-calendar-btn" (click)="toggleCalendar()">
      <span class="cal-icon">üìÖ</span>
      <span class="cal-text">CALENDARIO DE EVENTOS</span>
    </button>
  </div>

  <main class="main-content">
    <section class="hero">
      <div>
        <h1 class="hero-title">Innovaci√≥n tecnol√≥gica con sentido humano</h1>
        <a href="https://www.unistmo.edu.mx/web/p_ensenanza/escolares.html" target="_blank">
          <button class="btn-hero">Inicia tu proceso de ingreso aqu√≠</button>
        </a>
      </div>
    </section>

    <section class="container">
      <div class="grid-cards">
        <div class="card card-green" routerLink="/excelecia-academica">
          <div class="icon-wrapper"><img src="assets/img/Excelencia.png" class="card-icon"></div>
          <h3>Excelencia Acad√©mica</h3>
          <p>Programas educativos de alta calidad enfocados en el desarrollo integral.</p>
        </div>
        <div class="card card-red" routerLink="/tecnologia-avanzada">
          <div class="icon-wrapper"><img src="assets/img/Tecnologia.png" class="card-icon"></div>
          <h3>Tecnolog√≠a Avanzada</h3>
          <p>Infraestructura moderna y recursos tecnol√≥gicos de vanguardia.</p>
        </div>
        <div class="card card-green" [routerLink]="['/vinculacion-regional']">
          <div class="icon-wrapper"><img src="assets/img/Vinculacion.png" class="card-icon"></div>
          <h3>Vinculaci√≥n Regional</h3>
          <p>Conexi√≥n directa con el sector productivo de la regi√≥n.</p>
        </div>
      </div>
    </section>
<section class="cta-section">
  <div class="cta-content">
    <h2 class="cta-title">¬øListo para comenzar?</h2>
    <p class="cta-text">√önete a nuestra comunidad universitaria.</p>
    <div class="cta-buttons">
      <button class="btn-primary" routerLink="/quienesSomos">Conoce m√°s</button>
      <button class="btn-secondary" (click)="toggleContactModal()">Cont√°ctanos</button>
    </div>
  </div>
</section>
  </main>
</div>

<div class="contact-modal-overlay" *ngIf="isContactModalVisible" (click)="toggleContactModal()">
  <div class="contact-modal-card" (click)="$event.stopPropagation()">
    <button class="close-modal-x" (click)="toggleContactModal()">&times;</button>

    <div class="modal-body">
      <h2 class="modal-title">Contacto Directo</h2>
      <p class="modal-subtitle">D√©janos tu correo y nosotros te escribimos.</p>

      <div class="form-group">
        <input type="email" #userEmail placeholder="tu@correo.com" class="contact-input">
        <button class="btn-send-email" (click)="sendContact(userEmail.value)">Enviar</button>
      </div>

      <div class="whatsapp-section">
        <p>O contacta al Jefe de Carrera v√≠a WhatsApp:</p>
        <a href="https://wa.me/5219721155207" target="_blank" class="whatsapp-link">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="wa-icon">
          Chatea con nosotros
        </a>
      </div>
    </div>
  </div>
</div>


<div class="news-modal-overlay" *ngIf="selectedNews" (click)="closeNews()">
  <div class="modal-container-styled" (click)="$event.stopPropagation()">
    <div class="modal-header-badge">Noticias Inform√°tica</div>
    <div class="news-modal-card">
      <button class="close-modal-x" (click)="closeNews()">&times;</button>
      <div class="modal-body">
        <span class="modal-tag-date">{{ selectedNews.fecha }}</span>
        <h2 class="modal-news-title">{{ selectedNews.titulo }}</h2>
        <p class="modal-news-text">{{ selectedNews.contenido }}</p>
      </div>
      <div class="modal-footer-icon">
        <span *ngIf="selectedNews.titulo.includes('IA')">üåê</span>
        <span *ngIf="selectedNews.titulo.includes('Google') || selectedNews.titulo.includes('Hackathon')">üèÜ</span>
      </div>
    </div>
  </div>
</div>

<div class="calendar-modal" *ngIf="isCalendarVisible" (click)="toggleCalendar()">
  <div class="calendar-container-expanded" (click)="$event.stopPropagation()">

    <div class="calendar-main-section">
      <div class="calendar-header">
        <div class="nav-controls">
          <button (click)="changeMonth(-1)" class="btn-nav">&lt;</button>
          <h3>{{ currentMonthName }} {{ currentYear }}</h3>
          <button (click)="changeMonth(1)" class="btn-nav">&gt;</button>
        </div>
      </div>
      <div class="calendar-grid">
  <span *ngFor="let dayName of daysOfWeek; let i = index" [class.dom]="i === 6" class="day-name">
    {{ dayName }}
  </span>

 <span *ngFor="let day of calendarDays; let i = index"
      class="calendar-day-item"
      [class.dom]="i % 7 === 6"
      [class.selected-day]="day === selectedDay"
      [class.has-event]="hasEvents(day)"
      (click)="selectDay(day)">
  {{ day }}
</span>
</div>
    </div>

    <div class="calendar-sidebar">
      <button class="btn-close-sidebar" (click)="toggleCalendar()">&times;</button>

      <div class="sidebar-content">
        <h4 class="sidebar-title">Pr√≥ximos Eventos</h4>
        <div class="selected-date-badge" *ngIf="selectedDay">
          {{ selectedDay }} de {{ currentMonthName }}
        </div>

       <div class="events-list" *ngIf="eventosDelDia.length > 0; else noEvents">
  <div class="event-item-card" *ngFor="let ev of eventosDelDia">
    <span class="event-time">{{ ev.hora }}</span>
    <h5>{{ ev.titulo }}</h5>
    <p>{{ ev.descripcion }}</p>
  </div>
</div>
        <ng-template #noEvents>
          <div class="no-events-msg">
            <p>No hay eventos para este d√≠a.</p>
          </div>
        </ng-template>
      </div>
    </div>

  </div>
</div>

