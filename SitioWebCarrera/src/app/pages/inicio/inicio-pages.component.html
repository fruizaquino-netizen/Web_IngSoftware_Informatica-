<div class="page-wrapper">
  <div class="news-ticker-container">
    <div class="ticker-label">{{ content().INICIO.NEWS_TICKER }}</div>
    <div class="ticker-wrap">
      <div class="ticker-move">
        <div class="ticker-item" *ngFor="let noticia of noticias" (click)="openNews(noticia)">
          {{ noticia.titulo }} <span class="separator">•</span>
        </div>
        <div class="ticker-item" *ngFor="let noticia of noticias" (click)="openNews(noticia)">
          {{ noticia.titulo }} <span class="separator">•</span>
        </div>
      </div>
    </div>
    <button class="ticker-calendar-btn" (click)="toggleCalendar()">
      <span class="cal-icon">📅</span>
      <span class="cal-text">{{ content().INICIO.CALENDAR_BUTTON }}</span>
    </button>
  </div>

  <main class="main-content">
   <section class="hero">
  <div class="hero-inner"> <h1 class="hero-title">{{ content().INICIO.HERO_TITLE }}</h1>
    <a href="https://www.unistmo.edu.mx/web/p_ensenanza/escolares.html" target="_blank">
      <button class="btn-hero">{{ content().INICIO.HERO_BUTTON }}</button>
    </a>
  </div>
</section>

    <section class="container">
      <div class="grid-cards">
        <div class="card card-green" routerLink="/excelecia-academica">
          <div class="icon-wrapper"><img src="assets/img/Excelencia.png" class="card-icon"></div>
          <h3>{{ content().INICIO.FEATURES[0]?.TITLE }}</h3>
          <p>{{ content().INICIO.FEATURES[0]?.TEXT }}</p>
        </div>
        <div class="card card-red" routerLink="/tecnologia-avanzada">
          <div class="icon-wrapper"><img src="assets/img/Tecnologia.png" class="card-icon"></div>
          <h3>{{ content().INICIO.FEATURES[1]?.TITLE }}</h3>
          <p>{{ content().INICIO.FEATURES[1]?.TEXT }}</p>
        </div>
        <div class="card card-green" [routerLink]="['/vinculacion-regional']">
          <div class="icon-wrapper"><img src="assets/img/Vinculacion.png" class="card-icon"></div>
          <h3>{{ content().INICIO.FEATURES[2]?.TITLE }}</h3>
          <p>{{ content().INICIO.FEATURES[2]?.TEXT }}</p>
        </div>
      </div>
    </section>
<section class="cta-section">
  <div class="cta-content">
    <h2 class="cta-title">{{ content().INICIO.CTA.TITLE }}</h2>
    <p class="cta-text">{{ content().INICIO.CTA.TEXT }}</p>
    <div class="cta-buttons">
      <button class="btn-primary" routerLink="/quienesSomos">{{ content().INICIO.CTA.BUTTON_MORE }}</button>
      <button class="btn-secondary" (click)="toggleContactModal()">{{ content().INICIO.CTA.BUTTON_CONTACT }}</button>
    </div>
  </div>
</section>
  </main>
</div>
<div class="contact-modal-overlay" *ngIf="isContactModalVisible" (click)="toggleContactModal()">
  <div class="contact-modal-card" (click)="$event.stopPropagation()">
    <button class="close-modal-x" (click)="toggleContactModal()">&times;</button>

    <div class="modal-body">
      <h2 class="modal-title">{{ content().INICIO.CONTACT_MODAL.TITLE }}</h2>
      <p class="modal-subtitle">{{ content().INICIO.CONTACT_MODAL.SUBTITLE }}</p>

      <div class="form-container">
        <input type="text" #userName [placeholder]="content().INICIO.CONTACT_MODAL.PLACEHOLDER_NAME" class="contact-input">
        <input type="email" #userEmail [placeholder]="content().INICIO.CONTACT_MODAL.PLACEHOLDER_EMAIL" class="contact-input">
        <textarea #userAsunto [placeholder]="content().INICIO.CONTACT_MODAL.PLACEHOLDER_MESSAGE" class="contact-input" rows="3"></textarea>

        <button class="btn-send-email" (click)="sendContact(userName.value, userEmail.value, userAsunto.value)">
          {{ content().INICIO.CONTACT_MODAL.SEND_BUTTON }}
        </button>
      </div>

      <div class="whatsapp-divider">{{ content().INICIO.CONTACT_MODAL.OR }}</div>

      <div class="whatsapp-section">
        <a href="https://wa.me/5219721155207" target="_blank" class="whatsapp-link">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="wa-icon">
          {{ content().INICIO.CONTACT_MODAL.WHATSAPP_TEXT }}
        </a>
      </div>
    </div>
  </div>
</div>

<div class="news-modal-overlay" *ngIf="selectedNews" (click)="closeNews()">
  <div class="modal-container-styled" (click)="$event.stopPropagation()">
    <div class="modal-header-badge">{{ content().INICIO.NEWS_MODAL.HEADER }}</div>
    <div class="news-modal-card">
      <button class="close-modal-x" (click)="closeNews()">&times;</button>
      <div class="modal-body">
        <span class="modal-tag-date">{{ selectedNews.fecha }}</span>
        <h2 class="modal-news-title">{{ selectedNews.titulo }}</h2>
        <p class="modal-news-text">{{ selectedNews.contenido }}</p>
      </div>
      <div class="modal-footer-icon">
        <span *ngIf="selectedNews.titulo.includes('IA')">🤖</span>
        <span *ngIf="selectedNews.titulo.includes('Google') || selectedNews.titulo.includes('Hackathon')">🚀</span>
      </div>
    </div>
  </div>
</div>

<div class="calendar-modal" *ngIf="isCalendarVisible" (click)="toggleCalendar()">
  <div class="calendar-container-expanded" (click)="$event.stopPropagation()">

    <div class="calendar-main-section">
      <div class="calendar-header">
        <div class="nav-controls">
          <button (click)="changeMonth(-1)" class="btn-nav">&lt;</button>
          <h3>{{ currentMonthName }} {{ currentYear }}</h3>
          <button (click)="changeMonth(1)" class="btn-nav">&gt;</button>
        </div>
      </div>
      <div class="calendar-grid">
  <span *ngFor="let dayName of daysOfWeek; let i = index" [class.dom]="i === 6" class="day-name">
    {{ dayName }}
  </span>

 <span *ngFor="let day of calendarDays; let i = index"
      class="calendar-day-item"
      [class.dom]="i % 7 === 6"
      [class.selected-day]="day === selectedDay"
      [class.has-event]="hasEvents(day)"
      (click)="selectDay(day)">
  {{ day }}
</span>
</div>
    </div>

    <div class="calendar-sidebar">
      <button class="btn-close-sidebar" (click)="toggleCalendar()">&times;</button>

      <div class="sidebar-content">
        <h4 class="sidebar-title">{{ content().INICIO.CALENDAR.SIDEBAR_TITLE }}</h4>
        <div class="selected-date-badge" *ngIf="selectedDay">
          {{ selectedDay }} de {{ currentMonthName }}
        </div>

       <div class="events-list" *ngIf="eventosDelDia.length > 0; else noEvents">
  <div class="event-item-card" *ngFor="let ev of eventosDelDia">
    <span class="event-time">{{ ev.hora }}</span>
    <h5>{{ ev.titulo }}</h5>
    <p>{{ ev.descripcion }}</p>
  </div>
</div>
        <ng-template #noEvents>
          <div class="no-events-msg">
            <p>{{ content().INICIO.CALENDAR.NO_EVENTS }}</p>
          </div>
        </ng-template>
      </div>
    </div>

  </div>
</div>

